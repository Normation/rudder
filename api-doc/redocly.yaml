extends:
  # use the recommended set of linter rules
  - recommended

rules:
  # sadly the linter identifies "/{nodeid}" and "/{nodesid}/apply" as ambiguous
  no-ambiguous-paths: "off"
  # don't require documenting 404 responses
  operation-4xx-response: "off"
  # treat some warnings as errors
  # as there is no simple way to do it with the CLI
  info-license: "error"
  tag-description: "error"
  operation-2xx-response: "error"
  operation-operationId: "error"
  no-required-schema-properties-undefined: "error"
  no-invalid-schema-examples: "error"
  no-invalid-parameter-examples: "error"
  no-server-example.com:
    # Some of our APIs are *actually* served on localhost
    severity: off
  no-invalid-media-type-examples:
    severity: "error"
    allowAdditionalProperties: false
  no-unused-components: "error"

openapi:
  hideDownloadButtons: true
  # Hostname is meaningless as it won't match the user's Rudder server
  hideHostname: true
  # Expand success examples by default
  expandResponses: "200,201"
  # More readable in central column
  pathInMiddlePanel: true
  # Nested objects in examples should be allowed
  generatedPayloadSamplesMaxDepth: 100
  # https://redocly.com/docs/redoc/config#theme-settings
  theme:
    # Rudder 9 theme
    logo:
      gutter: "8px"
    colors:
      primary:
        main: "#340499"
      text:
        primary: "#3E444C"
    sidebar:
      backgroundColor: "#ECECFF"
    typography:
      fontFamily: "Lato, sans-serif"
      headings:
        fontFamily: "Raleway, Lato, sans-serif"
        fontWeight: "700"
