<lift:surround with="common-layout" at="content">

<head>
  <title>Rudder - Home</title>
  <script type="text/javascript" data-lift="with-cached-resource" src="/javascript/rudder/homePage.js"></script>
  <script type="text/javascript" data-lift="with-cached-resource" src="/javascript/libs/gauge.min.js"></script>
  <link   type="text/css"        data-lift="with-cached-resource" href="/style/rudder/rudder-dashboard.css" rel="stylesheet">
</head>

<div class="rudder-template">
  <div class="homePage">
    <div class="row">
      <div class="col-lg-2 col-md-6">
        <div class="panel panel-default stats">
          <div class="panel-heading">Statistics</div>
          <div data-lift="lazy-load?template=lazy-load-spinner">
            <ul class="nav nav-pills nav-stacked navbar-rudder">
              <li>
                <a href="/secure/nodeManager/nodes">
                  Nodes
                  <span class="badge"><div data-lift="HomePage.acceptedNodes"></div></span>
                </a>
              </li>
              <li>
                <a href="/secure/nodeManager/manageNewNode">
                  Pending nodes
                  <span class="badge"><div data-lift="HomePage.pendingNodes"></div></span>
                </a>
              </li>
              <li>
                <a href="/secure/configurationManager/ruleManagement">
                  Rules
                  <span class="badge"><div data-lift="HomePage.rules"></div></span>
                </a>
              </li>
              <li>
                <a href="/secure/configurationManager/directiveManagement">
                  Directives
                  <span class="badge"><div data-lift="HomePage.directives"></div></span>
                </a>
              </li>
              <li>
                <a href="/secure/nodeManager/groups">
                  Groups
                  <span class="badge"><div data-lift="HomePage.groups"></div></span>
                </a>
              </li>
              <li>
                <a href="/secure/administration/techniqueLibraryManagement">
                  Techniques
                  <span class="badge"><div data-lift="HomePage.techniques"></div></span>
                </a>
              </li>
            </ul>
          </div>
       </div>
    </div>

    <div class="col-lg-4 col-md-6">
      <div class="panel panel-default global-compliance">
        <div class="panel-heading">
          Global compliance
        </div>
        <div class="text-center">
          <canvas id="complianceGauge" width="360" height="150" class=""></canvas>
          <span id="gauge-value"></span>
        </div>
      </div>
    </div>

     <div class="col-lg-6 col-md-12">
       <div class="panel panel-default global-compliance-details">
         <div class="panel-heading">Global compliance details</div>
         <div id="globalCompliance"></div>
         <h3 class="text-center" id="globalComplianceStats"></h3>
       </div>
     </div>
    </div>

    <div class="row">
     <div class="col-lg-4 col-md-4">
       <div id="nodeOverview" class="panel panel-default">
         <div class="panel-heading">Nodes by overall compliance</div>
           <div class="node-compliance-chart">
             <canvas id="nodeCompliance" ></canvas>
             <div  id="nodeCompliance-legend"></div>
           </div>
           <div style="clear: both;"></div>
         <div data-lift="lazy-load?template=lazy-load-spinner"> <div data-lift="HomePage.getAllCompliance"></div> </div>
       </div>
     </div>

     <div class="col-lg-8 col-md-8" id="nodeBreakdown">
         <div class="panel panel-default">
           <div class="panel-heading">Node breakdown</div>
           <div class="node-charts">
             <div class="node-chart">
               <h4 class="text-center">By machine type</h4>
               <canvas id="nodeMachine" > </canvas>
               <div  id="nodeMachine-legend"></div>
             </div>
             <div class="node-chart">
               <h4 class="text-center">By OS</h4>
               <canvas id="nodeOs"></canvas>
               <div  id="nodeOs-legend"></div>
               <div data-lift="lazy-load?template=lazy-load-spinner"> <div data-lift="HomePage.inventoryInfo" > </div></div>
             </div>
             <div class="node-chart">
               <h4 class="text-center">By agent version</h4>
               <canvas id="nodeAgents" > </canvas>
               <div  id="nodeAgents-legend"></div>
                 <div data-lift="lazy-load?template=lazy-load-spinner"> <div data-lift="HomePage.rudderAgentVersion"></div></div>
             </div>
           </div>
           <div style="clear: both;"></div>
        </div>
     </div>
    </div>
  </div>
</div>
</lift:surround>

