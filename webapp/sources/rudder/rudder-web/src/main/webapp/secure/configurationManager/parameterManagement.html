<lift:surround with="common-layout" at="content">

  <head>
    <title>Rudder - Global properties</title>
    <style>
      .template-sidebar.sidebar-left {
        box-shadow: none !important;
        flex-basis: initial !important;
        flex: initial !important;
      }

      .template-main {
        flex-basis: initial !important;
        flex: auto !important;
      }

      .callout-fade.callout-info {
        margin-top: 10px;
        min-height: 80px;
      }

      .btn.space-bottom {
        margin-bottom: 15px;
      }

      .btn.space-top {
        margin-top: 10px;
      }

      #actions_zone {
        margin: 0;
      }

      #globalParametersGrid {
        table-layout: fixed;
      }

      #globalParametersGrid .json-beautify {
        padding: 0;
        max-height: initial;
      }

      #globalParametersGrid .json-beautify:after {
        content: "";
      }
    </style>
  </head>

  <div class="rudder-template">
    <div class="one-col">
      <div class="main-header">
        <div class="header-title">
          <h1>
            <span>Global properties</span>
          </h1>
        </div>
        <div class="header-description">
          <p>
            Global properties are key/value pairs. Once defined, they will be inherited by group properties and node
            properties,
            you can use them in directive parameters.
          </p>
        </div>
      </div>
      <div class="one-col-main">
        <div class="template-main">
          <div class="main-container">
            <div class="main-details">
              <lift:authz role="directive_read">
                <div class="callout-fade callout-info">
                  <div class="marker">
                    <span class="glyphicon glyphicon-info-sign"></span>
                  </div>
                  <div>
                    <p>
                      The syntax to use a global property in a directive is the same as using a node property
                      <b>${node.properties&lsqb;key&rsqb;}</b>, where &lt;key&gt;
                      is the name you chose for your global property.
                    </p>
                    <p>
                      Be careful to enter exactly <b>node.properties</b> (lower case) and your global property name with the
                      same case
                      (global property keys are case sensitive). Also, remember that their value can be overriden by
                      group and node properties.
                    </p>
                  </div>
                </div>
                <div class="inner-portlet-content">
                  <div class="lift:configuration.ParameterManagement.display"></div>
                </div>
              </lift:authz>
              <lift:authz role="directive_write">
                <div id="globalParameterForm"></div>
              </lift:authz>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="createGlobalParameterPopup" class="modal fade" data-keyboard="true" tabindex="-1">
      <lift:ignore>
        This div gets the content of the CreateOrUpdateGlobalParameterPopup injected within
      </lift:ignore>
      <div id="createGlobalParameterContainer"></div>
    </div>
    <div id="deletionPopup" class="nodisplay"></div>
  </div>

</lift:surround>