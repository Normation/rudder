<xml:group>

<lift:ignore>This part contains the search parts, with lines, and with the grid that get included behind</lift:ignore>

<query-searchnodes>
  <div id="SearchForm">
    <content-query>
      <div id="serverGrid_info_area"></div>
      <div id="queryParameters" class="row">
        <ul>
          <li class="rudder-form form-sm">
            <div class="input-group">
              <label for="typeQuery" class="input-group-addon">
                <span id="typeQuery"></span>
                <label class="label-radio" for="typeQuery">
                  <span class="ion ion-checkmark-round"></span>
                </label>
                <span class="ion ion-checkmark-round check-icon"></span>
              </label>
              <label for="typeQuery" class="form-control">
                Include Rudder root <span class="icon-info tooltipable glyphicon glyphicon-question-sign" title="The Rudder root server with web application"></span>
              </label>
            </div>
          </li>
        </ul>
        <ul>
          <li class="rudder-form form-sm">
            <div class="input-group">
              <label for="transformResult" class="input-group-addon">
                <span id="transformResult"></span>
                <label class="label-radio" for="transformResult">
                  <span class="ion ion-checkmark-round"></span>
                </label>
                <span class="ion ion-checkmark-round check-icon"></span>
              </label>
              <label for="transformResult" class="form-control">
                Invert result<span class="icon-info tooltipable glyphicon glyphicon-question-sign" title="Return node(s) not matching query"></span>
              </label>
            </div>
          </li>
        </ul>
        <div class="wbBaseField form-group">
        <label><span class="text-fit">Match the criteria below with this operand:</span></label>
          <div class="switch">
              <span class="radio-inline" id="composition"></span>
          </div>
        </div>
        <table class="searchNodes" >
          <tbody id="query_lines"></tbody>
        </table>
        <div class="nodeGroupSubmitSearch" id="submitSearch"></div>
      </div>
    </content-query>
  </div>
  <div id="gridResult">
    <update-gridresult></update-gridresult>
  </div>
</query-searchnodes>

<nodes-table>
    <update-nodesTable></update-nodesTable>
</nodes-table>

<lift:ignore>This part is the detail of a node</lift:ignore>
<detail-server>
  <style>
  #serverDetails{
    display: flex;
    flex-direction: column;
    flex: 1;
    overflow: hidden;
  }
  .query-search-message, #querySearchSection, #query-search-content, #querySearchInfo{
    display:none !important;
  }
  .rudder-template .one-col .template-main .main-details{
    padding-bottom: 0;
  }
  #logsDetails{
    margin-bottom: 50px;
  }
  </style>
  <div class="main-header">
    <head_merge>
      <script data-lift="with-cached-resource" src="/javascript/rudder/elm/rudder-nodeproperties.js"></script>
      <script>
        var CanWriteNode = false;
        var CanReadNode  = false;
      </script>
      <lift:authz role="node_write">
        <script>
          CanWriteNode = true;
        </script>
      </lift:authz>
      <lift:authz role="node_read">
        <script>
          CanReadNode = true;
        </script>
      </lift:authz>
    </head_merge>
    <div id="nodeHeader"></div>
  </div>
  <div id="node_tabs" class="tabs d-flex flex-column overflow-hidden">
    <div class="main-navbar">
      <ul id="NodeDetailsTabMenu" class="ui-tabs-nav nav nav-tabs">
        <li class="ui-tabs-tab"><a href="#node_summary">Summary</a></li>
        <li class="ui-tabs-tab"><a href="#node_reports">Compliance reports</a></li>
        <li class="ui-tabs-tab"><a href="#node_inventory">Inventory</a></li>
        <li class="ui-tabs-tab"><a href="#node_properties">Properties</a></li>
        <li class="ui-tabs-tab"><a href="#system_status">System status</a></li>
        <li class="ui-tabs-tab"><a href="#node_logs">Technical logs</a></li>
        <li class="ui-tabs-tab"><a href="#node_parameters">Settings</a></li>
      </ul>
    </div>
    <div class="one-col-main">
      <div class="template-main">
        <div class="main-container">
          <div class="main-details">

            <div id="node_summary">
              <div id="nodeDetails"></div>
              <div id="nodeGroups">
                <h3>Groups containing this node</h3>
                <div id="node_groupTree"></div>
              </div>
            </div>

            <div id="node_inventory">
              <div id="nodeInventory"></div>
            </div>

            <div id="node_reports">
              <div id="reportsDetails"></div>
            </div>

            <div id="node_logs">
              <div id="logsDetails"></div>
            </div>

            <div id="node_properties">
              <div id="nodeProperties"></div>
            </div>

            <div id="node_parameters"></div>

            <div id="system_status">
              <div id="systemStatus"></div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
  </detail-server>
</xml:group>
