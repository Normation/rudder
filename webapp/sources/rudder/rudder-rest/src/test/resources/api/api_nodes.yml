---
description: Get node (minimal)
method: GET
url: /api/latest/nodes/node1?include=minimal
response:
  code: 200
  content: >-
    {
      "action":"nodeDetails",
      "id":"node1",
      "result":"success",
      "data":{
        "nodes":[
          {
            "id":"node1",
            "hostname":"node1.localhost",
            "status":"accepted"
          }
        ]
      }
    }
---
description: Get node (full)
method: GET
url: /api/latest/nodes/node1?include=full
response:
  code: 200
  content: >-
    {
      "action" : "nodeDetails",
      "id" : "node1",
      "result" : "success",
      "data" : {
        "nodes" : [
          {
            "id" : "node1",
            "hostname" : "node1.localhost",
            "status" : "accepted",
            "state" : "enabled",
            "os" : {
              "type" : "Linux",
              "name" : "Debian",
              "version" : "10.6",
              "fullName" : "Buster",
              "kernelVersion" : "4.19"
            },
            "ram" : 1460132,
            "machine" : {
              "id" : "machine1",
              "type" : "Virtual",
              "provider" : "vbox"
            },
            "ipAddresses" : [
              "192.168.0.10"
            ],
            "description" : "",
            "acceptanceDate" : "2021-01-30T00:20:00Z",
            "lastInventoryDate" : "2021-01-30T00:20:00Z",
            "policyServerId" : "root",
            "managementTechnology" : [
              {
                "name" : "Rudder",
                "version" : "7.0.0",
                "capabilities" : [],
                "nodeKind" : "node"
              }
            ],
            "properties" : [],
            "policyMode" : "enforce",
            "timezone" : {
              "name" : "UTC",
              "offset" : "+00"
            },
            "accounts" : [
              "root",
              "httpd"
            ],
            "environmentVariables" : {
              "THE_VAR" : "THE_VAR value!"
            },
            "fileSystems" : [
              {
                "mountPoint" : "none",
                "name" : "swap",
                "totalSpace" : 1000000
              },
              {
                "mountPoint" : "/",
                "name" : "ext4",
                "freeSpace" : 12076449792,
                "totalSpace" : 55076449792
              }
            ],
            "managementTechnologyDetails" : {
              "cfengineKeys" : [
                "-----BEGIN CERTIFICATE-----\nMIIFTjCCAzagAwIBAgIUO0kEJ2Fwb4MWT2yBVqR+UX4osMcwDQYJKoZIhvcNAQEL\nBQAwFzEVMBMGCgmSJomT8ixkAQEMBW5vZGUxMB4XDTI0MTEwMjE2MTIxOVoXDTM0\nMTAzMTE2MTIxOVowFzEVMBMGCgmSJomT8ixkAQEMBW5vZGUxMIICIjANBgkqhkiG\n9w0BAQEFAAOCAg8AMIICCgKCAgEAptzhnQCPvgOwjn6LCfVhTMAs10hwYj5YxqOX\ni8MPiFT4Rlrn6xyB24O7E+O2EL/IUYSk5Lbp2OGSJWvNe1d+KbESpmGoM1UnAa8j\nVsW+HY/uJ23THKAhe9ykOxWObSp/sSwFhw6C0p7SriI72uW/fJ40XCh2m2FuJuQP\nYHjNOR5P/cOLhKs/cEkt3icMxyfipor+kcqC/GsCPtwwXFwnS5yWlmRxVSzkI1fZ\n6B403aHMe5PSqD0kxWX8roR/9sIVRvLVbxQtiuyM2xUeSuIlg3bho9wN4/shhqKv\nq3zqJQy86YZVC9jRmX21BeQukTWiu3uqppxVcyTM5Wzf3jrE7A+2Iea6ZvMFA0fq\nD39CgXhkuCGdGaBQtVzuYBASyECUEmMgQMb99rnlONVVVdFQHS26+c1fR1rn+Iyq\nkGOmrTRSaf1F8OLnvAY9UhXi/oJNDh57y+Y+X11XY2mBgmt/zRFN05HxD0UpsvlS\np850QzmoO7qusRY5CnrX40HHhhB9wr5lhKTVEAgoEhrYvC/wDWLBElECNQzC99ye\nFUR2T1sc1qsmDVki5eivm086viHt231plJIXKtAdTLc2EXYxtNiVowXKbhujtwOR\ngIcG9YXEwc7woXnpxOJHYlFfB9TKMKzc8FfKVZnOibp0Ceenpxj0nUItlLJMoEaM\nG4upElcCAwEAAaOBkTCBjjAMBgNVHRMEBTADAQH/MB0GA1UdDgQWBBT9f5l3IkLI\ndwooamw/OugzXWT8RjBSBgNVHSMESzBJgBT9f5l3IkLIdwooamw/OugzXWT8RqEb\npBkwFzEVMBMGCgmSJomT8ixkAQEMBW5vZGUxghQ7SQQnYXBvgxZPbIFWpH5Rfiiw\nxzALBgNVHQ8EBAMCArwwDQYJKoZIhvcNAQELBQADggIBAF0LWEG8O3W18U0r+6v1\npSS1UqcP0HI3M27+Pq2Gk+/s9DRlgeyPmSYTGMdbP1eL5lR5BubUrZlKmXCneda+\nVl4akoNaYXHFKpRIKm4y2ezX6XRugblurc+tL3V17UAhYjSglL/5yRXiLrJKACOP\n0NNjjrqn2JM2PfD29Ge6K+yir92V8aOByElZVYNH4f9Avc+zzg4yBDTONutZ2TBx\ncPZ3s2Z7bsbOYhJey+j99Oc/puyUNyvh5R/hLV5QP+FA/N8JR8N2IeaIwF8/Kyhu\nMTSajF4pLY1N8YbQA0jd6zwz6NvRu5HBJ+u53JX4kyMc8mMAG0PZz6pUmAwlqq7V\nEqsjDVYHB19WKh9gaJkKNkft7IsB1b7exklGRPUuR/Sb4a5rgl47a3EM38KCVfFX\nBBNUhCn0Lt3lKs4RUXxLSh36ptEPre9qkWtdTnjR+T6KLxVonLdNQSOeqRplb4la\nUu/CwaqyaPf39pzyXLNdZszknsXk+ih1+Kn/X7cTTUjNsvlMRqlh/wW2Ss0FK3R3\n7GObkgYD5hHVDrH5tp9gh0a0r0GT3bT4119BgE8zgwqMGbOHkg5ENT+nyL0b0niZ\n0ITz1f3/arh35zGKGr1mueUrJuSLeRG1v62+Mire+5PIliT+tQM7Bk8TptlSIl37\n3jccIfXR+UOVrHdSl0QmGOxb\n-----END CERTIFICATE-----"
              ],
              "cfengineUser" : "root"
            },
            "networkInterfaces" : [
              {
                "name" : "enp0s3",
                "ipAddresses" : [
                  "10.0.2.15"
                ],
                "gateway" : [],
                "mask" : [],
                "subnet" : [],
                "status" : "Up",
                "speed" : "1000"
              }
            ],
            "processes" : [
              {
                "pid" : 54432,
                "name" : "/bin/true",
                "cpuUsage" : 34.5,
                "memory" : 4235.0
              }
            ],
            "software" : [
              {
                "id" : "",
                "name" : "s05",
                "version" : "1.0"
              },
              {
                "id" : "",
                "name" : "s06",
                "version" : "1.0"
              },
              {
                "id" : "",
                "name" : "s07",
                "version" : "1.0"
              },
              {
                "id" : "",
                "name" : "s08",
                "version" : "1.0"
              },
              {
                "id" : "",
                "name" : "s09",
                "version" : "1.0"
              },
              {
                "id" : "",
                "name" : "s10",
                "version" : "1.0"
              },
              {
                "id" : "",
                "name" : "s11",
                "version" : "1.0"
              },
              {
                "id" : "",
                "name" : "s12",
                "version" : "1.0"
              },
              {
                "id" : "",
                "name" : "s13",
                "version" : "1.0"
              }
            ],
            "softwareUpdate" : [
              {
                "name" : "s00",
                "version" : "2.15.6~RC1",
                "arch" : "x86_64",
                "from" : "yum",
                "kind" : "defect",
                "description" : "Some explanation",
                "severity" : "critical",
                "ids" : [
                  "RHSA-2020-4566",
                  "CVE-2021-4034"
                ]
              },
              {
                "name" : "s01",
                "version" : "1-23-RELEASE-1",
                "arch" : "x86_64",
                "from" : "apt",
                "kind" : "none",
                "source" : "default-repo"
              },
              {
                "name" : "s01",
                "version" : "1-24-RELEASE-64",
                "arch" : "x86_64",
                "from" : "apt",
                "kind" : "security",
                "source" : "security-backports",
                "severity" : "backport",
                "ids" : [
                  "CVE-2021-4034"
                ]
              }
            ]
          }
        ]
      }
    }
---
description: List node with select and include managementTechnology
method: GET
url: /api/latest/nodes?include=minimal,managementTechnologyDetails&select=nodeAndPolicyServer&where=[{"objectType":"node","attribute":"nodeHostname","comparator":"eq","value":"node1.localhost"}]
response:
  code: 200
  content: >-
    {
      "action":"listAcceptedNodes",
      "result":"success",
      "data":{
        "nodes":[
          {
            "id":"node1",
            "hostname":"node1.localhost",
            "status":"accepted",
            "managementTechnologyDetails":{
              "cfengineKeys":[
                "-----BEGIN CERTIFICATE-----\nMIIFTjCCAzagAwIBAgIUO0kEJ2Fwb4MWT2yBVqR+UX4osMcwDQYJKoZIhvcNAQEL\nBQAwFzEVMBMGCgmSJomT8ixkAQEMBW5vZGUxMB4XDTI0MTEwMjE2MTIxOVoXDTM0\nMTAzMTE2MTIxOVowFzEVMBMGCgmSJomT8ixkAQEMBW5vZGUxMIICIjANBgkqhkiG\n9w0BAQEFAAOCAg8AMIICCgKCAgEAptzhnQCPvgOwjn6LCfVhTMAs10hwYj5YxqOX\ni8MPiFT4Rlrn6xyB24O7E+O2EL/IUYSk5Lbp2OGSJWvNe1d+KbESpmGoM1UnAa8j\nVsW+HY/uJ23THKAhe9ykOxWObSp/sSwFhw6C0p7SriI72uW/fJ40XCh2m2FuJuQP\nYHjNOR5P/cOLhKs/cEkt3icMxyfipor+kcqC/GsCPtwwXFwnS5yWlmRxVSzkI1fZ\n6B403aHMe5PSqD0kxWX8roR/9sIVRvLVbxQtiuyM2xUeSuIlg3bho9wN4/shhqKv\nq3zqJQy86YZVC9jRmX21BeQukTWiu3uqppxVcyTM5Wzf3jrE7A+2Iea6ZvMFA0fq\nD39CgXhkuCGdGaBQtVzuYBASyECUEmMgQMb99rnlONVVVdFQHS26+c1fR1rn+Iyq\nkGOmrTRSaf1F8OLnvAY9UhXi/oJNDh57y+Y+X11XY2mBgmt/zRFN05HxD0UpsvlS\np850QzmoO7qusRY5CnrX40HHhhB9wr5lhKTVEAgoEhrYvC/wDWLBElECNQzC99ye\nFUR2T1sc1qsmDVki5eivm086viHt231plJIXKtAdTLc2EXYxtNiVowXKbhujtwOR\ngIcG9YXEwc7woXnpxOJHYlFfB9TKMKzc8FfKVZnOibp0Ceenpxj0nUItlLJMoEaM\nG4upElcCAwEAAaOBkTCBjjAMBgNVHRMEBTADAQH/MB0GA1UdDgQWBBT9f5l3IkLI\ndwooamw/OugzXWT8RjBSBgNVHSMESzBJgBT9f5l3IkLIdwooamw/OugzXWT8RqEb\npBkwFzEVMBMGCgmSJomT8ixkAQEMBW5vZGUxghQ7SQQnYXBvgxZPbIFWpH5Rfiiw\nxzALBgNVHQ8EBAMCArwwDQYJKoZIhvcNAQELBQADggIBAF0LWEG8O3W18U0r+6v1\npSS1UqcP0HI3M27+Pq2Gk+/s9DRlgeyPmSYTGMdbP1eL5lR5BubUrZlKmXCneda+\nVl4akoNaYXHFKpRIKm4y2ezX6XRugblurc+tL3V17UAhYjSglL/5yRXiLrJKACOP\n0NNjjrqn2JM2PfD29Ge6K+yir92V8aOByElZVYNH4f9Avc+zzg4yBDTONutZ2TBx\ncPZ3s2Z7bsbOYhJey+j99Oc/puyUNyvh5R/hLV5QP+FA/N8JR8N2IeaIwF8/Kyhu\nMTSajF4pLY1N8YbQA0jd6zwz6NvRu5HBJ+u53JX4kyMc8mMAG0PZz6pUmAwlqq7V\nEqsjDVYHB19WKh9gaJkKNkft7IsB1b7exklGRPUuR/Sb4a5rgl47a3EM38KCVfFX\nBBNUhCn0Lt3lKs4RUXxLSh36ptEPre9qkWtdTnjR+T6KLxVonLdNQSOeqRplb4la\nUu/CwaqyaPf39pzyXLNdZszknsXk+ih1+Kn/X7cTTUjNsvlMRqlh/wW2Ss0FK3R3\n7GObkgYD5hHVDrH5tp9gh0a0r0GT3bT4119BgE8zgwqMGbOHkg5ENT+nyL0b0niZ\n0ITz1f3/arh35zGKGr1mueUrJuSLeRG1v62+Mire+5PIliT+tQM7Bk8TptlSIl37\n3jccIfXR+UOVrHdSl0QmGOxb\n-----END CERTIFICATE-----"
              ],
              "cfengineUser":"root"
            }
          }
        ]
      }
    }
---
description: Create a node without a manufacturer, old style
method: PUT
url: /api/latest/nodes
headers:
  - "Content-Type: application/json"
body: >-
  [
    {
      "id": "378740d3-c4a9-4474-8485-478e7e52db52",
      "hostname": "node1.hostname.local",
      "status": "accepted",
      "os": {
        "type": "linux",
        "name": "debian",
        "version": "9.5",
        "fullName": "Debian GNU/Linux 9 (stretch)",
        "servicePack": "string"
      },
      "policyServerId": "root",
      "machineType": "vmware",
      "state": "enabled",
      "policyMode": "enforce",
      "agentKey": {
        "value": "-----BEGIN CERTIFICATE-----\nMIIFTjCCAzagAwIBAgIUfa0+S+CyJahRzuwNNOFLNQQjIH8wDQYJKoZIhvcNAQEL\nBQAwFzEVMBMGCgmSJomT8ixkAQEMBW5vZGU3MB4XDTI0MDMwMTExMDIxM1oXDTM0\nMDIyNzExMDIxM1owFzEVMBMGCgmSJomT8ixkAQEMBW5vZGU3MIICIjANBgkqhkiG\n9w0BAQEFAAOCAg8AMIICCgKCAgEAsmBUYI1A5vqkOTCW24m/mQhBaRu4WaAUXDAr\nArdIAAMN0KyHhEXP1/X32Flw90E0VjtUH4P+DYLBozXYWhJrUxdWLyn3TRSbv3Kr\npXoCWhMhMp8OK2s/mG+rfiMpTXIwaMhPnBaJFNV3c+bkijGAMHtFjl3+leXJvNZ7\nw3bIg4cA3e77kz7EWMyqxOUvvLMyY6wpd03ahe/By+iLgtOkgUwl9hMqMU8tJeaz\nNIeUporsHk5rrk8bSf6Mxxdknm43Sk6oflnueNCIUFdd4rS2JLieMugsTh8n/oH+\nk29ZyirE3ikhftmZ3vY8GQ3IcIzaXwiAOGnCKcze79zVx5jmOTGSZitGZaU/cZc6\nLjzEp+ZDmE8caVIksiA+hIlaZeBXNHB+YRv/gV1Rbt7kS1am+XUZJSfVFf+99YqE\nlZ5p0hqJsczkBb2RuMxWxxsWO3pesPUNCuL/yaeggTIp7eK06tQWi1EfXr40ctrf\noimbzMAKNBpRKWruL7652SlF75Usaq+PaPi1TtqYQjLRZmbpr+IR4uMeKnEMIZPw\n3dLDKBV6d71XkTAalCmcJU+fgYrRmgz1dEnaZDIXY+f+fYR15hsFpDrZ0avHgkzJ\nca/nT/rKeX7136BttxVSbZaTU9hnmjAvl+v0BF+JUWPQ3VPTcrmyUNAICt8xdVae\nuo1tsvkCAwEAAaOBkTCBjjAMBgNVHRMEBTADAQH/MB0GA1UdDgQWBBSRG0uHQRIA\ngl91YqzSjaeaw+F7PDBSBgNVHSMESzBJgBSRG0uHQRIAgl91YqzSjaeaw+F7PKEb\npBkwFzEVMBMGCgmSJomT8ixkAQEMBW5vZGU3ghR9rT5L4LIlqFHO7A004Us1BCMg\nfzALBgNVHQ8EBAMCArwwDQYJKoZIhvcNAQELBQADggIBABR2vTH/6WlqjaTZ/hQc\nB+crqRlFimqCiVTRdX6qfkt0tLX2dK6scHNTBT04ORLjLTAn0KbcOUz3k6i0mIqB\nnG5UjqCFEQR+i2V4Hz7aK6+7LBQuwXWRhDhvO5xMn7MxjvP0LGgNf5iiA4r/N22L\nEMc1prDESIOGmWdKg9XlfLxd877R2d8/3hXyT82Y2uJHO25b53skj4pbUOWLsGSw\nd4FBNnWqM+7Hbg2v9xFvmtfs2G2Inqk4Xjtjnj8qkVk3ft6KzClUIMXGXQ8QqaRp\nYPkTJm5g2UBYDiguD/tlz3VmbsNYU6fkap7DKqhttbaseIx1zDwdAv4jtVOWDyjx\nWq4b7pljYiczfRa84X/9v1x05pT3raELy5udY+Pxmnz+hOXOM+jY5bzSKS24b8rS\n5Sklmutm0IdflMKd5vNrXd9yPFLu3QzN50ArzHHXczwBLgjaMlZsPAp1wITlqM7+\nWCjy3qM5/KgAjH3L24MPTq23o9PokBVh1NH7lesZqgJPgsj+OG7FMQDvKzg7ytrs\nQlIDF1c8Ko+9/RrnRVAS8C4GZOqbmMmfJjMp09GBz2d0ixlTusF6m6iwfIVMf/nI\nP/V0D7STRiV62cfnZ3e0w8kIeZwWAgXI7RMHJU3skLyurUu8yxkp635IQyzQsW2A\nYo7t7O7fxjqD9yVI2QfkERZ7\n-----END CERTIFICATE-----\n",
        "status": "certified"
      },
      "properties": [
        {
          "name": "datacenter",
          "value": "AMS2"
        },
        {
          "name": "some-json-property",
          "value": {
            "key": "value"
          }
        },
        {
          "name": "another-property",
          "value": [
            "arrvalue1",
            "arrvalue2"
          ]
        }
      ],
      "ipAddresses": [
        "192.168.180.90"
      ],
      "timezone": {
        "name": "CEST",
        "offset": "+0200"
      }
    }
  ]
response:
  code: 200
  content: >-
    {
      "action":"createNodes",
      "result":"success",
      "data":{
        "created":[
          "378740d3-c4a9-4474-8485-478e7e52db52"
        ],
        "failed":[]
      }
    }
---
description: Create a node with a manufacturer, new style
method: PUT
url: /api/latest/nodes
headers:
  - "Content-Type: application/json"
body: >-
  [
    {
      "id": "378740d3-c4a9-4474-8485-478e7e52db53",
      "hostname": "node2.hostname.local",
      "status": "accepted",
      "os": {
        "type": "linux",
        "name": "debian",
        "version": "9.5",
        "fullName": "Debian GNU/Linux 9 (stretch)",
        "servicePack": "string"
      },
      "policyServerId": "root",
      "machine": {
        "type":"Virtual",
        "provider":"vmware",
        "manufacturer":"corp inc.",
        "serialNumber": "ece12459-2b90-49c9-ab1e-72e38f797421"
      },
      "state": "enabled",
      "policyMode": "enforce",
      "agentKey": {
        "value": "-----BEGIN CERTIFICATE-----\nMIIFTjCCAzagAwIBAgIUfa0+S+CyJahRzuwNNOFLNQQjIH8wDQYJKoZIhvcNAQEL\nBQAwFzEVMBMGCgmSJomT8ixkAQEMBW5vZGU3MB4XDTI0MDMwMTExMDIxM1oXDTM0\nMDIyNzExMDIxM1owFzEVMBMGCgmSJomT8ixkAQEMBW5vZGU3MIICIjANBgkqhkiG\n9w0BAQEFAAOCAg8AMIICCgKCAgEAsmBUYI1A5vqkOTCW24m/mQhBaRu4WaAUXDAr\nArdIAAMN0KyHhEXP1/X32Flw90E0VjtUH4P+DYLBozXYWhJrUxdWLyn3TRSbv3Kr\npXoCWhMhMp8OK2s/mG+rfiMpTXIwaMhPnBaJFNV3c+bkijGAMHtFjl3+leXJvNZ7\nw3bIg4cA3e77kz7EWMyqxOUvvLMyY6wpd03ahe/By+iLgtOkgUwl9hMqMU8tJeaz\nNIeUporsHk5rrk8bSf6Mxxdknm43Sk6oflnueNCIUFdd4rS2JLieMugsTh8n/oH+\nk29ZyirE3ikhftmZ3vY8GQ3IcIzaXwiAOGnCKcze79zVx5jmOTGSZitGZaU/cZc6\nLjzEp+ZDmE8caVIksiA+hIlaZeBXNHB+YRv/gV1Rbt7kS1am+XUZJSfVFf+99YqE\nlZ5p0hqJsczkBb2RuMxWxxsWO3pesPUNCuL/yaeggTIp7eK06tQWi1EfXr40ctrf\noimbzMAKNBpRKWruL7652SlF75Usaq+PaPi1TtqYQjLRZmbpr+IR4uMeKnEMIZPw\n3dLDKBV6d71XkTAalCmcJU+fgYrRmgz1dEnaZDIXY+f+fYR15hsFpDrZ0avHgkzJ\nca/nT/rKeX7136BttxVSbZaTU9hnmjAvl+v0BF+JUWPQ3VPTcrmyUNAICt8xdVae\nuo1tsvkCAwEAAaOBkTCBjjAMBgNVHRMEBTADAQH/MB0GA1UdDgQWBBSRG0uHQRIA\ngl91YqzSjaeaw+F7PDBSBgNVHSMESzBJgBSRG0uHQRIAgl91YqzSjaeaw+F7PKEb\npBkwFzEVMBMGCgmSJomT8ixkAQEMBW5vZGU3ghR9rT5L4LIlqFHO7A004Us1BCMg\nfzALBgNVHQ8EBAMCArwwDQYJKoZIhvcNAQELBQADggIBABR2vTH/6WlqjaTZ/hQc\nB+crqRlFimqCiVTRdX6qfkt0tLX2dK6scHNTBT04ORLjLTAn0KbcOUz3k6i0mIqB\nnG5UjqCFEQR+i2V4Hz7aK6+7LBQuwXWRhDhvO5xMn7MxjvP0LGgNf5iiA4r/N22L\nEMc1prDESIOGmWdKg9XlfLxd877R2d8/3hXyT82Y2uJHO25b53skj4pbUOWLsGSw\nd4FBNnWqM+7Hbg2v9xFvmtfs2G2Inqk4Xjtjnj8qkVk3ft6KzClUIMXGXQ8QqaRp\nYPkTJm5g2UBYDiguD/tlz3VmbsNYU6fkap7DKqhttbaseIx1zDwdAv4jtVOWDyjx\nWq4b7pljYiczfRa84X/9v1x05pT3raELy5udY+Pxmnz+hOXOM+jY5bzSKS24b8rS\n5Sklmutm0IdflMKd5vNrXd9yPFLu3QzN50ArzHHXczwBLgjaMlZsPAp1wITlqM7+\nWCjy3qM5/KgAjH3L24MPTq23o9PokBVh1NH7lesZqgJPgsj+OG7FMQDvKzg7ytrs\nQlIDF1c8Ko+9/RrnRVAS8C4GZOqbmMmfJjMp09GBz2d0ixlTusF6m6iwfIVMf/nI\nP/V0D7STRiV62cfnZ3e0w8kIeZwWAgXI7RMHJU3skLyurUu8yxkp635IQyzQsW2A\nYo7t7O7fxjqD9yVI2QfkERZ7\n-----END CERTIFICATE-----\n",
        "status": "certified"
      },
      "properties": [
        {
          "name": "datacenter",
          "value": "AMS2"
        },
        {
          "name": "some-json-property",
          "value": {
            "key": "value"
          }
        },
        {
          "name": "another-property",
          "value": [
            "arrvalue1",
            "arrvalue2"
          ]
        }
      ],
      "ipAddresses": [
        "192.168.180.90"
      ],
      "timezone": {
        "name": "CEST",
        "offset": "+0200"
      }
    }
  ]
response:
  code: 200
  content: >-
    {
      "action":"createNodes",
      "result":"success",
      "data":{
        "created":[
          "378740d3-c4a9-4474-8485-478e7e52db53"
        ],
        "failed":[]
      }
    }
---
description: Create node with some validation errors
method: PUT
url: /api/latest/nodes
headers:
  - "Content-Type: application/json"
body: >-
  [
    {
      "id": "an-invalid-uuid-hihihi",
      "hostname": "node3.hostname.local",
      "status": "removed",
      "os": {
        "type": "linux",
        "name": "debian",
        "version": "9.5",
        "fullName": "Debian GNU/Linux 9 (stretch)",
        "servicePack": "string"
      },
      "properties": [],
      "ipAddresses": []
    },
    {
      "id": "378740d3-c4a9-4474-8485-478e7e52db54",
      "hostname": "node4.hostname.local",
      "status": "accepted",
      "os": {
        "type": "linux",
        "name": "debian",
        "version": "9.5",
        "fullName": "Debian GNU/Linux 9 (stretch)",
        "servicePack": "string"
      },
      "properties": [],
      "ipAddresses": []
    }
  ]
response:
  code: 500
  content: >-
    {
      "action": "createNodes",
      "result": "error",
      "data": {
        "created": [
          "378740d3-c4a9-4474-8485-478e7e52db54"
        ],
        "failed": [
          {
            "an-invalid-uuid-hihihi": [
              "[validation] Only ID matching the shape of an UUID (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx) are authorized but 'an-invalid-uuid-hihihi' provided",
              "[validation] Node 'status' must be one of 'accepted, pending' but 'removed' provided"
            ]
          }
        ]
      }
    }
---
description: Update given node information (node properties, policy mode...)
method: POST
url: /api/latest/nodes/378740d3-c4a9-4474-8485-478e7e52db54
body: >-
  {
    "properties": [
      {
        "name": "datacenter",
        "value": "AMS2"
      },
      {
        "name": "some-json-property",
        "value": {
          "key": "value"
        }
      }
    ],
    "policyMode": "enforce",
    "state": "preparing-eol"
  }
headers:
  - "Content-Type: application/json"
response:
  code: 200
  content: >-
    {
      "action":"updateNode",
      "id":"378740d3-c4a9-4474-8485-478e7e52db54",
      "result":"success",
      "data":{
            "id":"378740d3-c4a9-4474-8485-478e7e52db54",
            "properties": [
              {
                "name": "datacenter",
                "value": "AMS2"
              },
              {
                "name": "some-json-property",
                "value": {
                  "key": "value"
                }
              }
            ],
            "policyMode": "enforce",
            "state": "preparing-eol"
      }
    }
---
description: Update given node information (node properties, policy mode...) with query parameters
method: POST
url: /api/latest/nodes/378740d3-c4a9-4474-8485-478e7e52db54
headers:
  - "Content-Type: application/x-www-form-urlencoded"
body:
params:
  properties:
    - datacenter=AMS4
    - some-json-property={"key":"another-value"}
    - another-property=["arrvalue1", "arrvalue2"]
  policyMode: enforce
  state: ignored
response:
  code: 200
  content: >-
    {
      "action" : "updateNode",
      "id" : "378740d3-c4a9-4474-8485-478e7e52db54",
      "result" : "success",
      "data" : {
        "id" : "378740d3-c4a9-4474-8485-478e7e52db54",
        "properties" : [
          {
            "name" : "another-property",
            "value" : [
              "arrvalue1",
              "arrvalue2"
            ]
          },
          {
            "name" : "datacenter",
            "value" : "AMS4"
          },
          {
            "name" : "some-json-property",
            "value" : {
              "key" : "another-value"
            }
          }
        ],
        "policyMode" : "enforce",
        "state" : "ignored"
      }
    }
---
description: Delete given node
method: DELETE
url: /api/latest/nodes/378740d3-c4a9-4474-8485-478e7e52db54
response:
  code: 200
  content: >-
    {
      "action":"deleteNode",
      "result":"success",
      "data":{
        "nodes": [
          {
            "id":"378740d3-c4a9-4474-8485-478e7e52db54",
            "status":"deleted",
            "hostname":"node4.hostname.local",
            "osName":"Debian",
            "osVersion":"9.5",
            "machineType":"Physical"
          }
        ]
      }
    }
---
description: Check that the new node has a manufacturer
method: GET
url: /api/latest/nodes/378740d3-c4a9-4474-8485-478e7e52db53?include=minimal,machine
response:
  code: 200
  content: >-
    {
      "action":"nodeDetails",
      "id":"378740d3-c4a9-4474-8485-478e7e52db53",
      "result":"success",
      "data":{
        "nodes":[
          {
            "id":"378740d3-c4a9-4474-8485-478e7e52db53",
            "hostname":"node2.hostname.local",
            "status":"accepted",
            "machine": {
              "id":"45f70964-7ec9-ed75-61a5-ed7acbde17f4",
              "type":"Virtual",
              "provider":"vmware",
              "manufacturer":"corp inc.",
              "serialNumber": "ece12459-2b90-49c9-ab1e-72e38f797421"
            }
          }
        ]
      }
    }
---
description: List all pending nodes with configurable details level
method: GET
url: /api/latest/nodes/pending
response:
  code: 200
  content: >-
    {
      "action" : "listPendingNodes",
      "result" : "success",
      "data" : {
        "nodes" : [
          {
            "id" : "node1-pending",
            "hostname" : "node1-pending.localhost",
            "status" : "pending",
            "state" : "enabled",
            "os" : {
              "type" : "Linux",
              "name" : "Debian",
              "version" : "10.6",
              "fullName" : "Buster",
              "kernelVersion" : "4.19"
            },
            "ram" : 1460132,
            "machine" : {
              "id" : "machine1",
              "type" : "Virtual",
              "provider" : "vbox"
            },
            "ipAddresses" : [
              "192.168.0.10"
            ],
            "description" : "",
            "acceptanceDate" : "2021-01-30T00:20:00Z",
            "lastInventoryDate" : "2021-01-30T00:20:00Z",
            "policyServerId" : "root",
            "managementTechnology" : [
              {
                "name" : "Rudder",
                "version" : "7.0.0",
                "capabilities" : [],
                "nodeKind" : "node"
              }
            ],
            "properties" : [],
            "policyMode" : "enforce",
            "timezone" : {
              "name" : "UTC",
              "offset" : "+00"
            }
          },
          {
            "id" : "node2-pending",
            "hostname" : "node2-pending.localhost",
            "status" : "pending",
            "state" : "enabled",
            "os" : {
              "type" : "Linux",
              "name" : "Debian",
              "version" : "10.6",
              "fullName" : "Buster",
              "kernelVersion" : "4.19"
            },
            "ram" : 1460132,
            "machine" : {
              "id" : "machine1",
              "type" : "Virtual",
              "provider" : "vbox"
            },
            "ipAddresses" : [
              "192.168.0.10"
            ],
            "description" : "",
            "acceptanceDate" : "2021-01-30T00:20:00Z",
            "lastInventoryDate" : "2021-01-30T00:20:00Z",
            "policyServerId" : "root",
            "managementTechnology" : [
              {
                "name" : "Rudder",
                "version" : "7.0.0",
                "capabilities" : [],
                "nodeKind" : "node"
              }
            ],
            "properties" : [
              {
                "name" : "simpleString",
                "value" : "string value"
              }
            ],
            "policyMode" : "enforce",
            "timezone" : {
              "name" : "UTC",
              "offset" : "+00"
            }
          }
        ]
      }
    }
---
description: Accept pending nodes
method: POST
url: /api/latest/nodes/pending
headers:
  - "Content-Type: application/json"
body: >-
  {
    "nodeId" : ["node1-pending"],
    "status" : "accepted"
  }
response:
  code: 200
  content: >-
    {
      "action" : "changePendingNodeStatus",
      "result" : "success",
      "data" : {
        "nodes" : [
          {
            "id" : "node1-pending",
            "status" : "accepted",
            "hostname" : "node1-pending.localhost",
            "osName" : "Debian",
            "osVersion" : "10.6",
            "machineType" : "Virtual"
          }
        ]
      }
    }
---
description: Refuse pending nodes
method: POST
url: /api/latest/nodes/pending
headers:
  - "Content-Type: application/json"
body: >-
  {
    "nodeId" : ["node2-pending"],
    "status" : "refuse"
  }
response:
  code: 200
  content: >-
    {
      "action" : "changePendingNodeStatus",
      "result" : "success",
      "data" : {
        "nodes" : [
          {
            "id" : "node2-pending",
            "status" : "pending",
            "hostname" : "node2-pending.localhost",
            "osName" : "Debian"
          }
        ]
      }
    }
---
description: List no pending nodes after acceptation and refusal
method: GET
url: /api/latest/nodes/pending
response:
  code: 200
  content: >-
    {
      "action" : "listPendingNodes",
      "result" : "success",
      "data" : {
        "nodes" : []
      }
    }
---
description: Accept or refuse pending nodes fail without node
method: POST
url: /api/latest/nodes/pending
headers:
  - "Content-Type: application/json"
body: >-
  {
    "status" : "accepted"
  }
response:
  code: 500
  content: >-
    {
      "action" : "changePendingNodeStatus",
      "result" : "error",
      "errorDetails" : "Error when changing Node status; cause was: Node ID or status not correctly sent; cause was: Unexpected: .nodeId(missing)"
    }
---
description: Accept or refuse pending nodes fail without status
method: POST
url: /api/latest/nodes/pending
headers:
  - "Content-Type: application/json"
body: >-
  {
    "nodeId" : ["node1-pending"]
  }
response:
  code: 500
  content: >-
    {
      "action" : "changePendingNodeStatus",
      "result" : "error",
      "errorDetails" : "Error when changing Node status; cause was: Node ID or status not correctly sent; cause was: Unexpected: .status(missing)"
    }
---
description: Accept or refuse pending nodes fail without body
method: POST
url: /api/latest/nodes/pending
headers:
  - "Content-Type: application/json"
response:
  code: 500
  content: >-
    {
      "action" : "changePendingNodeStatus",
      "result" : "error",
      "errorDetails" : "Error when changing Node status; cause was: Node ID or status not correctly sent; cause was: Unexpected: Unexpected end of input"
    }
---
description: Accept or refuse given pending node
method: POST
url: /api/latest/nodes/pending/node1-pending
headers:
  - "Content-Type: application/json"
body: >-
  {
    "status" : "accepted"
  }
response:
  code: 200
  content: >-
    {
      "action" : "changePendingNodeStatus",
      "result" : "success",
      "data" : {
        "nodes" : [
          {
            "id" : "node1-pending",
            "status" : "accepted",
            "hostname" : "node1-pending.localhost",
            "osName" : "Debian",
            "osVersion" : "10.6",
            "machineType" : "Virtual"
          }
        ]
      }
    }
---
description: Accept or refuse given pending node without status
method: POST
url: /api/latest/nodes/pending/node1-pending
headers:
  - "Content-Type: application/json"
response:
  code: 500
  content: >-
    {
      "action" : "changePendingNodeStatus",
      "result" : "error",
      "errorDetails" : "Error when changing Node status; cause was: Node status not correctly sent; cause was: Unexpected: Unexpected end of input"
    }
---
description: Get the status (pending, accepted, unknown) of the comma separated list of nodes given by `ids` parameter
method: GET
url: /api/latest/nodes/status?ids=node1,378740d3-c4a9-4474-8485-478e7e52db53
response:
  code: 200
  content: >-
    {
      "action":"getNodesStatus",
      "result":"success",
      "data":{
        "nodes":[
          {
            "id":"node1",
            "status":"accepted"
          },
          {
            "id":"378740d3-c4a9-4474-8485-478e7e52db53",
            "status":"accepted"
          }
        ]
      }
    }
---
description: Get the status (pending, accepted, unknown) of the comma separated list of nodes given by empty `ids` parameter
method: GET
url: /api/latest/nodes/status
response:
  code: 200
  content: >-
    {
      "action":"getNodesStatus",
      "result":"success",
      "data":{
        "nodes":[]
      }
    }
---
description: Ask given node to start a run with the given policy for Dsc agent
method: POST
url: /api/latest/nodes/node-dsc/applyPolicy
response:
  code: 500
  content: >-
    {
      "action":"applyPolicy",
      "result":"error",
      "errorDetails":"Node with id 'node-dsc' has an agent type (Rudder Windows) which doesn't support remote run"
    }
---
description: Ask given node to start a run with the given policy for unknown node
method: POST
url: /api/latest/nodes/unknown-node/applyPolicy
response:
  code: 500
  content: >-
    {
      "action":"applyPolicy",
      "result":"error",
      "errorDetails":"Node with id 'unknown-node' was not found"
    }
---
description: Getting a software version for a set of Nodes
url: /secure/api/nodes/details/software/s05
method: POST
headers:
  - "Content-Type: application/json"
body: >-
  {
    "software": ["s05"]
  }
response:
  code: 200
  content: >-
    {
      "node-dsc" : "1.0",
      "node2" : "1.0",
      "node1" : "1.0",
      "root" : "1.0"
    }
---
description: Getting data to build a Node table
url: /secure/api/nodes/details
method: POST
headers:
  - "Content-Type: application/json"
body: >-
  {
    "nodeIds" : ["node-dsc", "node2", "node1", "root"]
  }
response:
  code: 200
  content: >-
    [
      {
        "id" : "node-dsc",
        "name" : "node-dsc.localhost",
        "ram" : "1.39 MB",
        "policyServerId" : "root",
        "policyMode" : "audit",
        "globalModeOverride" : "default",
        "kernel" : "win-kernel-2012",
        "agentVersion" : "7.0.0",
        "machineType" : "vbox",
        "os" : "Windows 2012 youpla boom",
        "state" : "enabled",
        "systemError" : false,
        "ipAddresses" : [
          "192.168.0.5"
        ],
        "acceptanceDate" : "2021-01-30 00:20:00Z",
        "lastRun" : "Never",
        "lastInventory" : "2021-01-30 00:20:00Z",
        "software" : {},
        "properties" : {},
        "inheritedProperties" : {},
        "score" : {
          "score" : "X",
          "details" : {"compliance" : "X", "system-updates" : "X"}
        }
      },
      {
        "id" : "node2",
        "name" : "node2.localhost",
        "ram" : "1.39 MB",
        "policyServerId" : "root",
        "policyMode" : "enforce",
        "globalModeOverride" : "override",
        "kernel" : "4.19",
        "agentVersion" : "7.0.0",
        "machineType" : "vbox",
        "os" : "Buster",
        "state" : "enabled",
        "systemError" : false,
        "ipAddresses" : [
          "192.168.0.10"
        ],
        "acceptanceDate" : "2021-01-30 00:20:00Z",
        "lastRun" : "Never",
        "lastInventory" : "2021-01-30 00:20:00Z",
        "software" : {},
        "properties" : {},
        "inheritedProperties" : {},
        "score" : {
          "score" : "X",
          "details" : {"compliance" : "X", "system-updates" : "X"}
        }
      },
      {
        "id" : "node1",
        "name" : "node1.localhost",
        "ram" : "1.39 MB",
        "policyServerId" : "root",
        "policyMode" : "enforce",
        "globalModeOverride" : "override",
        "kernel" : "4.19",
        "agentVersion" : "7.0.0",
        "machineType" : "vbox",
        "os" : "Buster",
        "state" : "enabled",
        "systemError" : false,
        "ipAddresses" : [
          "192.168.0.10"
        ],
        "acceptanceDate" : "2021-01-30 00:20:00Z",
        "lastRun" : "Never",
        "lastInventory" : "2021-01-30 00:20:00Z",
        "software" : {},
        "properties" : {},
        "inheritedProperties" : {},
        "score" : {
          "score" : "X",
          "details" : {"compliance" : "X", "system-updates" : "X"}
        }
      },
      {
        "id" : "root",
        "name" : "server.rudder.local",
        "policyServerId" : "root",
        "policyMode" : "enforce",
        "globalModeOverride" : "override",
        "kernel" : "4.5",
        "agentVersion" : "7.0.0",
        "machineType" : "vbox",
        "os" : "Stretch",
        "state" : "enabled",
        "systemError" : false,
        "ipAddresses" : [
          "192.168.0.100"
        ],
        "acceptanceDate" : "2021-01-30 00:20:00Z",
        "lastRun" : "Never",
        "lastInventory" : "2021-01-30 00:20:00Z",
        "software" : {},
        "properties" : {},
        "inheritedProperties" : {},
        "score" : {
          "score" : "X",
          "details" : {"compliance" : "X", "system-updates" : "X"}
        }
      }
    ]
---
description: Getting data to build a Node table with software and properties
url: /secure/api/nodes/details
method: POST
headers:
  - "Content-Type: application/json"
body: >-
  {
    "nodeIds" : [ "node1" ],
    "software" : [ "s05" ],
    "properties" : [ {"inherited":true,"value":"stringParam"} ]
  }
response:
  code: 200
  content: >-
    [
      {
        "id" : "node1",
        "name" : "node1.localhost",
        "ram" : "1.39 MB",
        "policyServerId" : "root",
        "policyMode" : "enforce",
        "globalModeOverride" : "override",
        "kernel" : "4.19",
        "agentVersion" : "7.0.0",
        "machineType" : "vbox",
        "os" : "Buster",
        "state" : "enabled",
        "systemError" : false,
        "ipAddresses" : [
          "192.168.0.10"
        ],
        "acceptanceDate" : "2021-01-30 00:20:00Z",
        "lastRun" : "Never",
        "lastInventory" : "2021-01-30 00:20:00Z",
        "software" : {
          "s05" : "1.0"
        },
        "properties" : {},
        "inheritedProperties" : {
          "stringParam" : {
            "name" : "stringParam",
            "value" : "stringsome string",
            "inheritMode" : "map",
            "provider" : "inherited",
            "hierarchy" : "<p>from <b>Global Parameter</b>:<pre>&quot;some string&quot;</pre></p><p>from <b>Real nodes (0000f5d3-8c61-4d20-88a7-bb947705ba8a)</b>:<pre>&quot;string&quot;</pre></p>",
            "origval" : "string"
          }
        },
        "score" : {
          "score" : "X",
          "details" : {"compliance" : "X", "system-updates" : "X"}
        }
      }
    ]
---
description: Get all properties for that node, included inherited ones
method: GET
url: /api/latest/nodes/node1/inheritedProperties
response:
  code: 200
  content: >-
    {
      "action" : "nodeInheritedProperties",
      "result" : "success",
      "data" : [
        {
          "nodeId" : "node1",
          "properties" : [
            {
              "name" : "jsonParam",
              "value" : {
                "array" : [
                  5,
                  6
                ],
                "group" : "string",
                "json" : {
                  "g1" : "g1",
                  "var1" : "val1",
                  "var2" : "val2"
                },
                "string" : "a string"
              },
              "provider" : "inherited",
              "hierarchy" : [
                {
                  "kind" : "global",
                  "value" : {
                    "array" : [
                      1,
                      3,
                      2
                    ],
                    "json" : {
                      "var1" : "val1",
                      "var2" : "val2"
                    },
                    "string" : "a string"
                  }
                },
                {
                  "kind" : "group",
                  "name" : "Real nodes",
                  "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "value" : {
                    "array" : [
                      5,
                      6
                    ],
                    "group" : "string",
                    "json" : {
                      "g1" : "g1"
                    }
                  }
                }
              ],
              "hierarchyStatus" : {
                "hasChildTypeConflicts" : false,
                "fullHierarchy" : [
                  {
                    "kind" : "global",
                    "valueType" : "Object"
                  },
                  {
                    "kind" : "group",
                    "name" : "Real nodes",
                    "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                    "valueType" : "Object"
                  }
                ]
              },
              "origval" : {
                "array" : [
                  5,
                  6
                ],
                "group" : "string",
                "json" : {
                  "g1" : "g1"
                }
              }
            },
            {
              "name" : "modeParam",
              "value" : "some string",
              "inheritMode" : "opa",
              "provider" : "inherited",
              "hierarchy" : [
                {
                  "kind" : "global",
                  "value" : "some string"
                }
              ],
              "hierarchyStatus" : {
                "hasChildTypeConflicts" : false,
                "fullHierarchy" : [
                  {
                    "kind" : "global",
                    "valueType" : "String"
                  }
                ]
              },
              "origval" : "some string"
            },
            {
              "name" : "rudder",
              "value" : {
                "compliance_expiration_policy" : {
                  "mode" : "expire_immediately"
                }
              },
              "provider" : "inherited",
              "hierarchy" : [
                {
                  "kind" : "global",
                  "value" : {
                    "compliance_expiration_policy" : {
                      "mode" : "expire_immediately"
                    }
                  }
                }
              ],
              "hierarchyStatus" : {
                "hasChildTypeConflicts" : false,
                "fullHierarchy" : [
                  {
                    "kind" : "global",
                    "valueType" : "Object"
                  }
                ]
              },
              "origval" : {
                "compliance_expiration_policy" : {
                  "mode" : "expire_immediately"
                }
              }
            },
            {
              "name" : "stringParam",
              "value" : "stringsome string",
              "inheritMode" : "map",
              "provider" : "inherited",
              "hierarchy" : [
                {
                  "kind" : "global",
                  "value" : "some string"
                },
                {
                  "kind" : "group",
                  "name" : "Real nodes",
                  "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                  "value" : "string"
                }
              ],
              "hierarchyStatus" : {
                "hasChildTypeConflicts" : false,
                "fullHierarchy" : [
                  {
                    "kind" : "global",
                    "valueType" : "String"
                  },
                  {
                    "kind" : "group",
                    "name" : "Real nodes",
                    "id" : "0000f5d3-8c61-4d20-88a7-bb947705ba8a",
                    "valueType" : "String"
                  }
                ]
              },
              "origval" : "string"
            },
            {
              "name" : "systemParam",
              "value" : "some string",
              "provider" : "inherited",
              "hierarchy" : [
                {
                  "kind" : "global",
                  "value" : "some string"
                }
              ],
              "hierarchyStatus" : {
                "hasChildTypeConflicts" : false,
                "fullHierarchy" : [
                  {
                    "kind" : "global",
                    "valueType" : "String"
                  }
                ]
              },
              "origval" : "some string"
            }
          ]
        }
      ]
    }
---
description: Getting a property value for a set of Nodes (all nodes)
method: POST
url: /secure/api/nodes/details/property/stringParam
headers:
  - "Content-Type: application/json"
body: >-
  {
    "inherited": true
  }
response:
  code: 200
  content: >-
    {
      "node1-pending" : {
        "name" : "stringParam",
        "value" : "some string",
        "provider" : "inherited",
        "hierarchy" : "<p>from <b>Global Parameter</b>:<pre>&quot;some string&quot;</pre></p>",
        "origval" : "some string"
      },
      "node-dsc" : {
        "name" : "stringParam",
        "value" : "some string",
        "provider" : "inherited",
        "hierarchy" : "<p>from <b>Global Parameter</b>:<pre>&quot;some string&quot;</pre></p>",
        "origval" : "some string"
      },
      "node2" : {
        "name" : "stringParam",
        "value" : "stringsome string",
        "inheritMode" : "map",
        "provider" : "inherited",
        "hierarchy" : "<p>from <b>Global Parameter</b>:<pre>&quot;some string&quot;</pre></p><p>from <b>Real nodes (0000f5d3-8c61-4d20-88a7-bb947705ba8a)</b>:<pre>&quot;string&quot;</pre></p>",
        "origval" : "string"
      },
      "node1" : {
        "name" : "stringParam",
        "value" : "stringsome string",
        "inheritMode" : "map",
        "provider" : "inherited",
        "hierarchy" : "<p>from <b>Global Parameter</b>:<pre>&quot;some string&quot;</pre></p><p>from <b>Real nodes (0000f5d3-8c61-4d20-88a7-bb947705ba8a)</b>:<pre>&quot;string&quot;</pre></p>",
        "origval" : "string"
      },
      "root" : {
        "name" : "stringParam",
        "value" : "stringsome string",
        "inheritMode" : "map",
        "provider" : "inherited",
        "hierarchy" : "<p>from <b>Global Parameter</b>:<pre>&quot;some string&quot;</pre></p><p>from <b>Real nodes (0000f5d3-8c61-4d20-88a7-bb947705ba8a)</b>:<pre>&quot;string&quot;</pre></p>",
        "origval" : "string"
      },
      "378740d3-c4a9-4474-8485-478e7e52db53" : {
        "name" : "stringParam",
        "value" : "some string",
        "provider" : "inherited",
        "hierarchy" : "<p>from <b>Global Parameter</b>:<pre>&quot;some string&quot;</pre></p>",
        "origval" : "some string"
      },
      "378740d3-c4a9-4474-8485-478e7e52db52" : {
        "name" : "stringParam",
        "value" : "some string",
        "provider" : "inherited",
        "hierarchy" : "<p>from <b>Global Parameter</b>:<pre>&quot;some string&quot;</pre></p>",
        "origval" : "some string"
      }
    }
---
description: Get node (minimal)
method: GET
url: /api/latest/nodes/node1?include=minimal,properties
response:
  code: 200
  content: >-
    {
      "action":"nodeDetails",
      "id":"node1",
      "result":"success",
      "data":{
        "nodes":[
          {
            "id":"node1",
            "hostname":"node1.localhost",
            "status":"accepted",
            "properties":[]
          }
        ]
      }
    }
---
description: Add Json property
method: POST
url: /api/latest/nodes/node1
headers:
  - "Content-Type: application/json"
body: >-
  {
    "properties": [
      { "name":"jsonArray"            , "value": [ "one", 2, true]   },
      { "name":"jsonProp"             , "value": {"jsonObject":"ok"} },
      { "name":"stringArray"          , "value": "[array]"           },
      { "name":"stringNonMatching"    , "value": "{paren]"           },
      { "name":"stringParen"          , "value": "{paren}"           },
      { "name":"stringParenEscaped2"  , "value": "\\{paren\\}"       },
      { "name":"stringParenIncomplete", "value": "{paren"            },
      { "name":"stringQuoted"         , "value": "\"quotedString\""  },
      { "name":"stringSimple"         , "value": "simple string"     }
    ]
  }
response:
  code: 200
  note: >-
    One backslash has not a very defined behavior in front of anything but " and \. The rule: if you want a \, you escape it.
  content: >-
    {
      "action":"updateNode",
      "id":"node1",
      "result":"success",
      "data":{
        "id":"node1",
        "properties":[
          { "name":"jsonArray"            , "value": [ "one", 2, true]   },
          { "name":"jsonProp"             , "value": {"jsonObject":"ok"} },
          { "name":"stringArray"          , "value": "[array]"           },
          { "name":"stringNonMatching"    , "value": "{paren]"           },
          { "name":"stringParen"          , "value": "{paren}"           },
          { "name":"stringParenEscaped2"  , "value": "\\{paren\\}"       },
          { "name":"stringParenIncomplete", "value": "{paren"            },
          { "name":"stringQuoted"         , "value": "\"quotedString\""  },
          { "name":"stringSimple"         , "value": "simple string"     }
        ],
        "policyMode":"enforce","state":"enabled"
      }
    }
---
description: Get node (minimal)
method: GET
url: /api/latest/nodes/node1?include=minimal,properties
response:
  code: 200
  content: >-
    {
      "action":"nodeDetails",
      "id":"node1",
      "result":"success",
      "data":{
        "nodes":[
          {
            "id":"node1",
            "hostname":"node1.localhost",
            "status":"accepted",
            "properties":[
              { "name":"jsonArray"            , "value": [ "one", 2, true]   },
              { "name":"jsonProp"             , "value": {"jsonObject":"ok"} },
              { "name":"stringArray"          , "value": "[array]"           },
              { "name":"stringNonMatching"    , "value": "{paren]"           },
              { "name":"stringParen"          , "value": "{paren}"           },
              { "name":"stringParenEscaped2"  , "value": "\\{paren\\}"       },
              { "name":"stringParenIncomplete", "value": "{paren"            },
              { "name":"stringQuoted"         , "value": "\"quotedString\""  },
              { "name":"stringSimple"         , "value": "simple string"     }
            ]
          }
        ]
      }
    }
---
description: Delete Json property
method: POST
url: /api/latest/nodes/node1
headers:
  - "Content-Type: application/json"
body: >-
  {
    "properties": [
          { "name":"jsonArray"            , "value": "" },
          { "name":"jsonProp"             , "value": "" },
          { "name":"stringArray"          , "value": "" },
          { "name":"stringNonMatching"    , "value": "" },
          { "name":"stringParen"          , "value": "" },
          { "name":"stringParenEscaped2"  , "value": "" },
          { "name":"stringParenIncomplete", "value": "" },
          { "name":"stringQuoted"         , "value": "" },
          { "name":"stringSimple"         , "value": "" }
    ]
  }
response:
  code: 200
  content: >-
    {
      "action":"updateNode",
      "id":"node1",
      "result":"success",
      "data":{
        "id":"node1",
        "properties":[],
        "policyMode":"enforce","state":"enabled"
      }
    }
