# @name Test find property usage in Technique
# @description 
# @version 1.0


bundle agent test_find_property_usage_in_technique
{
  vars:
    "resources_dir" string => "${this.promise_dirname}/resources";
  classes:
    "pass3" expression => "pass2";
    "pass2" expression => "pass1";
    "pass1" expression => "any";
  methods:
    "063b4b65-h940-6a65-204a-4d8ddd085c34_${report_data.directive_id}" usebundle => test_find_property_usage_in_technique_gm_0("Command execution", "touch /tmp/${node.properties[hello_world][subval1][subval2]}", "063b4b65-h940-6a65-204a-4d8ddd085c34", "touch /tmp/${node.properties[hello_world][subval1][subval2]}"),
                                                                              if => concat("any");

}

bundle agent test_import_export_archive_gm_0(c_name, c_key, report_id, command) {
  methods:
    "063b4b65-h940-6a65-204a-4d8ddd085c34_${report_data.directive_id}" usebundle => _method_reporting_context_v4("${c_name}","${c_key}","${report_id}");
    "063b4b65-h940-6a65-204a-4d8ddd085c34_${report_data.directive_id}" usebundle => command_execution("${command}");
}
