<IfModule mod_ssl.c>
<VirtualHost _default_:443>

    ServerAdmin webmaster@localhost
    ServerName rudder

    DocumentRoot /var/www

    # Rudder webapp
    RewriteEngine on
    RewriteRule ^/$ /rudder [R]

    Include /opt/rudder/etc/apache2/rudder.conf

    # Logs
    ErrorLog /var/log/rudder/apache2/error.log
    ErrorLog ${APACHE_LOG_DIR}/error.log

    # Possible values include: debug, info, notice, warn, error, crit,
    # alert, emerg.
    LogLevel warn

    CustomLog /var/log/rudder/apache2/access.log combined

    # SSL Engine Switch:
    SSLEngine on

    SSLCertificateFile /opt/rudder/etc/apache2/rudder.crt
    SSLCertificateKeyFile /opt/rudder/etc/apache2/rudder.key
    # SSLCertificateChainFile /etc/ssl/certs/GandiStandardSSLCA.pem

    <FilesMatch "\.(cgi|shtml|phtml|php)$">
        SSLOptions +StdEnvVars
    </FilesMatch>
    <Directory /usr/lib/cgi-bin>
        SSLOptions +StdEnvVars
    </Directory>

</VirtualHost>
</IfModule>
